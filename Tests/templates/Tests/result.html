{% extends 'Accounts/Layouts/base.html' %}
{% load static %}

{% block exstyles %}
<link rel="stylesheet" href="{% static 'Tests/css/result.min.css' %}">
{% endblock %}


{% block content %}

<div class="container py-5">
    <div class="row">
  
      <div class="col-xl-12 col-lg-6 mb-4">
        <div class="bg-white rounded-lg p-5 shadow">
          <h2 class="h6 font-weight-bold text-center mb-4">Stress level</h2>
  
          <!-- Progress bar 1 -->
          <div class="mx-auto" data-value='{{result}}'>
            <div class="w-100 h-100 rounded-circle d-flex align-items-center justify-content-center">
              <div class="h1 font-weight-bold
              {% if result > 75 %}
                text-danger
              {% elif result > 50 %}
                text-warning
              {% else %}
                text-success
              {% endif %}
                ">{{result}}%</div>
            </div>
          </div>
          <!-- END -->
  
          <!-- Demo info -->
          <div class="row text-center mt-lg-5">
            <div class="col-4 border-right">
              <div class="h4 font-weight-bold mb-0"> Greater than 75%</div><span class="small text-danger">Highly Stressed</span>
            </div>
            <div class="col-4">
              <div class="h4 font-weight-bold mb-0"> Greater than 50%</div><span class="small text-warning">Mildly Stressed</span>
            </div>
            <div class="col-4">
              <div class="h4 font-weight-bold mb-0"> Less than 50%</div><span class="small text-success">Low Stress</span>
            </div>
          </div>
          <!-- END -->
          
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <div class="btn btn-primary create-button">
          <a class="text-white" href="{% url 'Programs:recView' %}">View Programs</a>
        </div>
      </div>
  
      
    </div>
  </div>
  

<script>    
    $(function() {

        $(".progress").each(function() {
      
          var value = $(this).attr('data-value');
          var left = $(this).find('.progress-left .progress-bar');
          var right = $(this).find('.progress-right .progress-bar');
      
          if (value > 0) {
            if (value <= 50) {
              right.css('transform', 'rotate(' + percentageToDegrees(value) + 'deg)')
            } else {
              right.css('transform', 'rotate(180deg)')
              left.css('transform', 'rotate(' + percentageToDegrees(value - 50) + 'deg)')
            }
          }
      
        })
      
        function percentageToDegrees(percentage) {
      
          return percentage / 100 * 360
      
        }
      
      });
    
</script>
  

{% endblock %}